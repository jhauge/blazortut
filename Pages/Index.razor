@page "/"

@inject BlogpostService BlogpostService;

<MudText Class="mb-3" Typo="Typo.h3">Dagbog</MudText>
<MudGrid>
    @foreach (var card in cards)
    {
        <MudItem xs="12">
            <MudCard Elevation="3" Class="pa-4">
                <MudText Typo="Typo.h6">@card.Title</MudText>
                <MudText Typo="Typo.caption">@card.Date.ToString("d. MMM yyyy")</MudText>
                <MudText Typo="Typo.body2" Class="mt-2">
                    @card.BodyText
                </MudText>
                <MudCardActions>
                    <MudSpacer />
                    <MudButton Variant="Variant.Text" Color="Color.Primary" Link="#" Class="right">
                        LÃ¦s beskeden
                    </MudButton>
                </MudCardActions>
            </MudCard>
        </MudItem>
    }
</MudGrid>

@code {
    private List<BlogPostCard> cards;

    protected override async Task OnInitializedAsync()
    {
        cards = await BlogpostService.GetBlogpostCardsAsync();
    }
}

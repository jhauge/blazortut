@page "/"

@inject BlogpostService BlogpostService;

<MudText Class="mb-3" Typo="Typo.h3">Dagbog</MudText>
<MudGrid>
    <MudItem xs="12">
    @foreach (var card in cards)
    {
            <MudCard Elevation="2" Class="py-2 px-4 mb-4">
                <MudText Typo="Typo.h6">@card.Title</MudText>
                <MudText Typo="Typo.caption">@card.Date.ToString("d. MMM yyyy")</MudText>
                <MudText Typo="Typo.body2" Class="mt-2">
                    @card.BodyText
                </MudText>
                <MudCardActions Class="d-flex justify-end">
                    <MudButton Variant="Variant.Text" Color="Color.Tertiary" Link="#" Class="right">
                        LÃ¦s beskeden
                    </MudButton>
                </MudCardActions>
            </MudCard>
    }
    </MudItem>
</MudGrid>

@code {
    private List<BlogPostCard> cards;

    protected override async Task OnInitializedAsync()
    {
        cards = await BlogpostService.GetBlogpostCardsAsync();
    }
}
